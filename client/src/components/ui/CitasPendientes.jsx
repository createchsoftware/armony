import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faTrash } from '@fortawesome/free-solid-svg-icons';
import React from 'react';
import { useState } from 'react';
import dayjs from 'dayjs';
import 'dayjs/locale/es'; // Importar locale espa単ol
import localizedFormat from 'dayjs/plugin/localizedFormat'; // Plugin para formatos localizados
import { Key } from 'lucide-react';

dayjs.extend(localizedFormat); // Extender dayjs con el plugin
dayjs.locale('es'); // Usar locale espa単ol

function firstLetterUppercase(string) {
    return string.charAt(0).toLocaleUpperCase() + string.slice(1);
}

function formatHora12(hora24) {
    const [hora, minutos] = hora24.split(':');
    const hora12 = hora % 12 || 12;
    const ampm = hora <= 12 ? 'am' : 'pm';
    return `${hora12}:${minutos} ${ampm}`;
}


function CitasPendientes({ removeItem, cita }) {
    const [eliminarCita, setEliminarCita] = useState(false);
    const [citaEliminada, setCitaEliminada] = useState(false);
    const [editarCita, setEditarCita] = useState(false);
    const [citaEditada, setCitaEditada] = useState(false);

    const date = dayjs(cita.fecha);
    const a単o = date.format('YYYY');
    const mes = date.format('MM');
    const dia = date.format('DD');
    const nombreDia = date.format('dddd');
    const nombreMes = date.format('MMMM');

    return (
        <div className='flex py-0 pl-0 pr-6 shadow-2xl rounded-xl place-content-between'>
            <div className='flex gap-6'>
                <div className='bg-[#036C65] h-full w-5 rounded-full'></div>
                <div className='my-4'>
                    <h1>{cita.nombre}</h1>
                    <p className='text-[#B78686]'>{cita.estado}</p>
                    <p className='text-[#B78686]'> Especialista: {cita.especialista}</p>
                    <p>{firstLetterUppercase(nombreDia) + ' ' + dia + ', ' + firstLetterUppercase(nombreMes) + ' ' + a単o + ', ' + formatHora12(cita.hora)}</p>
                </div>
            </div>
            <div className='flex gap-4 my-6'>
                <button>
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.80195 26.0443C3.53478 26.0452 3.27061 25.9879 3.02778 25.8765C2.78495 25.7651 2.56927 25.6021 2.3957 25.399C2.22213 25.1959 2.09483 24.9574 2.02263 24.7002C1.95043 24.443 1.93506 24.1731 1.97758 23.9093L2.75195 19.0181C2.81044 18.633 2.99147 18.2771 3.2682 18.0031L18.4932 2.77808C19.022 2.25177 19.7377 1.9563 20.4838 1.9563C21.2299 1.9563 21.9456 2.25177 22.4745 2.77808L25.222 5.52558C25.7483 6.05439 26.0437 6.77011 26.0437 7.5162C26.0437 8.26229 25.7483 8.97801 25.222 9.50683L9.99695 24.7318C9.72292 25.0086 9.36699 25.1896 8.98195 25.2481L4.0907 26.0224C3.99506 26.0363 3.89859 26.0436 3.80195 26.0443ZM20.4838 3.70558C20.3434 3.70504 20.2043 3.7322 20.0745 3.7855C19.9446 3.8388 19.8265 3.9172 19.727 4.0162L4.50633 19.25C4.49862 19.2565 4.49232 19.2645 4.4878 19.2735C4.48329 19.2825 4.48066 19.2924 4.48008 19.3025L3.7057 24.1849C3.70349 24.1998 3.70479 24.215 3.7095 24.2293C3.71422 24.2436 3.72221 24.2565 3.73284 24.2672C3.74348 24.2778 3.75646 24.2858 3.77074 24.2905C3.78502 24.2952 3.8002 24.2965 3.81508 24.2943L8.70633 23.52C8.72355 23.5166 8.73905 23.5073 8.75008 23.4937L23.9751 8.27308C24.1752 8.07289 24.2876 7.80143 24.2876 7.51839C24.2876 7.23534 24.1752 6.96388 23.9751 6.7637L21.2363 4.0162C21.1377 3.91714 21.0205 3.83866 20.8913 3.78533C20.7621 3.73201 20.6236 3.7049 20.4838 3.70558Z" fill="#222222" />
                        <path d="M23.5725 10.7931C23.4573 10.7938 23.3431 10.7717 23.2365 10.7282C23.1299 10.6846 23.033 10.6205 22.9512 10.5394L17.4606 5.04875C17.2964 4.88456 17.2042 4.66188 17.2042 4.42969C17.2042 4.19749 17.2964 3.97481 17.4606 3.81062C17.6248 3.64644 17.8475 3.5542 18.0796 3.5542C18.3118 3.5542 18.5345 3.64644 18.6987 3.81062L24.1893 9.30125C24.2707 9.38251 24.3352 9.47901 24.3793 9.58524C24.4233 9.69146 24.446 9.80532 24.446 9.92031C24.446 10.0353 24.4233 10.1492 24.3793 10.2554C24.3352 10.3616 24.2707 10.4581 24.1893 10.5394C24.0253 10.7021 23.8035 10.7933 23.5725 10.7931ZM9.49808 24.8675C9.26702 24.8677 9.04526 24.7765 8.88121 24.6137L3.38621 19.1187C3.23568 18.952 3.15503 18.7338 3.16095 18.5093C3.16687 18.2847 3.25892 18.0711 3.41802 17.9125C3.57713 17.754 3.79111 17.6627 4.01567 17.6576C4.24023 17.6525 4.45815 17.7339 4.62433 17.885L10.1193 23.3756C10.2412 23.4982 10.3241 23.6542 10.3574 23.8239C10.3907 23.9935 10.373 24.1693 10.3065 24.3289C10.2401 24.4885 10.1278 24.6248 9.98393 24.7207C9.84004 24.8165 9.67098 24.8676 9.49808 24.8675Z" fill="#222222" />
                        <path d="M6.75071 22.1244C6.57654 22.1263 6.40577 22.0761 6.26026 21.9804C6.11475 21.8847 6.00113 21.7477 5.93394 21.587C5.86675 21.4263 5.84904 21.2492 5.8831 21.0784C5.91715 20.9076 6.00141 20.7508 6.12509 20.6281L20.2082 6.56251C20.2849 6.46594 20.3812 6.38667 20.4906 6.32991C20.6001 6.27314 20.7203 6.24015 20.8435 6.23312C20.9666 6.22608 21.0898 6.24514 21.205 6.28907C21.3203 6.33299 21.4249 6.40077 21.5121 6.48797C21.5993 6.57517 21.6671 6.67982 21.711 6.79506C21.755 6.91029 21.774 7.03351 21.767 7.15663C21.7599 7.27975 21.727 7.39999 21.6702 7.50947C21.6134 7.61895 21.5342 7.71519 21.4376 7.79189L7.37196 21.875C7.20612 22.0372 6.98266 22.1269 6.75071 22.1244Z" fill="#222222" />
                    </svg>
                </button>
                <button className='ring-8' onClick={() => removeItem(cita.id)} >
                    <svg width="20" height="26" viewBox="0 0 20 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.1995 9.19328L17.7995 21.3003C17.7655 22.3372 17.3287 23.32 16.5819 24.0401C15.835 24.7602 14.837 25.161 13.7995 25.1573H6.19954C5.16276 25.161 4.16529 24.7608 3.41858 24.0415C2.67187 23.3223 2.23463 22.3405 2.19954 21.3043L1.79954 9.19328C1.79079 8.92806 1.88775 8.67023 2.0691 8.4765C2.25045 8.28278 2.50132 8.16903 2.76654 8.16028C3.03176 8.15152 3.28959 8.24849 3.48331 8.42983C3.67704 8.61118 3.79079 8.86206 3.79954 9.12728L4.19954 21.2373C4.21946 21.7542 4.43893 22.2434 4.81187 22.602C5.1848 22.9605 5.68218 23.1607 6.19954 23.1603H13.7995C14.3176 23.1606 14.8155 22.96 15.1886 22.6005C15.5616 22.2411 15.7806 21.751 15.7995 21.2333L16.1995 9.12728C16.2083 8.86206 16.322 8.61118 16.5158 8.42983C16.7095 8.24849 16.9673 8.15152 17.2325 8.16028C17.4978 8.16903 17.7486 8.28278 17.93 8.4765C18.1113 8.67023 18.2083 8.92806 18.1995 9.19328ZM19.5225 5.16428C19.5225 5.42949 19.4172 5.68385 19.2296 5.87138C19.0421 6.05892 18.7878 6.16428 18.5225 6.16428H1.47754C1.21232 6.16428 0.957968 6.05892 0.770432 5.87138C0.582896 5.68385 0.477539 5.42949 0.477539 5.16428C0.477539 4.89906 0.582896 4.64471 0.770432 4.45717C0.957968 4.26963 1.21232 4.16428 1.47754 4.16428H4.57754C4.89439 4.16513 5.20022 4.04807 5.43552 3.83587C5.67082 3.62368 5.81876 3.33153 5.85054 3.01628C5.92433 2.27676 6.2708 1.59121 6.82243 1.09318C7.37407 0.59516 8.09135 0.320342 8.83454 0.322276H11.1645C11.9077 0.320342 12.625 0.59516 13.1766 1.09318C13.7283 1.59121 14.0747 2.27676 14.1485 3.01628C14.1803 3.33153 14.3283 3.62368 14.5636 3.83587C14.7989 4.04807 15.1047 4.16513 15.4215 4.16428H18.5215C18.7868 4.16428 19.0411 4.26963 19.2286 4.45717C19.4162 4.64471 19.5215 4.89906 19.5215 5.16428H19.5225ZM7.58654 4.16428H12.4145C12.2831 3.86402 12.1972 3.54586 12.1595 3.22028C12.1348 2.97378 12.0194 2.74526 11.8357 2.57899C11.6521 2.41271 11.4133 2.32052 11.1655 2.32028H8.83554C8.58781 2.32052 8.34898 2.41271 8.16534 2.57899C7.9817 2.74526 7.86631 2.97378 7.84154 3.22028C7.80357 3.54591 7.71829 3.86407 7.58654 4.16428ZM8.59354 19.3153V10.8003C8.59354 10.5351 8.48818 10.2807 8.30065 10.0932C8.11311 9.90563 7.85876 9.80028 7.59354 9.80028C7.32832 9.80028 7.07397 9.90563 6.88643 10.0932C6.6989 10.2807 6.59354 10.5351 6.59354 10.8003V19.3193C6.59354 19.5845 6.6989 19.8388 6.88643 20.0264C7.07397 20.2139 7.32832 20.3193 7.59354 20.3193C7.85876 20.3193 8.11311 20.2139 8.30065 20.0264C8.48818 19.8388 8.59354 19.5845 8.59354 19.3193V19.3153ZM13.4075 19.3153V10.8003C13.4075 10.5351 13.3022 10.2807 13.1146 10.0932C12.9271 9.90563 12.6728 9.80028 12.4075 9.80028C12.1423 9.80028 11.888 9.90563 11.7004 10.0932C11.5129 10.2807 11.4075 10.5351 11.4075 10.8003V19.3193C11.4075 19.5845 11.5129 19.8388 11.7004 20.0264C11.888 20.2139 12.1423 20.3193 12.4075 20.3193C12.6728 20.3193 12.9271 20.2139 13.1146 20.0264C13.3022 19.8388 13.4075 19.5845 13.4075 19.3193V19.3153Z" fill="black" />
                    </svg>
                </button>
            </div>
        </div >
    )
}

export default CitasPendientes